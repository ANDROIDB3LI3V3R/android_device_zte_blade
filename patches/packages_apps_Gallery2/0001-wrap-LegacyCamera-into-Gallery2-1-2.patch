From 6fedbe89c3a6ce039b6449961e3dd8a105fe04db Mon Sep 17 00:00:00 2001
From: Konsta <konsta09@gmail.com>
Date: Tue, 6 Nov 2012 11:00:30 +0200
Subject: [PATCH] wrap LegacyCamera into Gallery2 (1/2)

Change-Id: I0c0b0222fad7e5d5444eccb00b6a3d14b4c6e47a
---
 Android.mk   |    8 ++------
 CleanSpec.mk |    2 ++
 2 files changed, 4 insertions(+), 6 deletions(-)

diff --git a/Android.mk b/Android.mk
index e9dcec5..231f407 100644
--- a/Android.mk
+++ b/Android.mk
@@ -44,11 +44,7 @@ LOCAL_PROGUARD_FLAG_FILES := proguard.flags
 
 include $(BUILD_PACKAGE)
 
-ifeq (,$(findstring LegacyCamera,$(PRODUCT_PACKAGES)))
-include $(call all-makefiles-under, packages/apps/LegacyCamera/jni)
-else
 include $(call all-makefiles-under, jni)
-endif
 
 ifeq ($(strip $(LOCAL_PACKAGE_OVERRIDES)),)
 # Use the following include to make gallery test apk.
@@ -56,9 +52,9 @@ include $(call all-makefiles-under, $(LOCAL_PATH))
 
 # Use the following include to make camera test apk.
 ifeq (,$(findstring LegacyCamera,$(PRODUCT_PACKAGES)))
-include $(call all-makefiles-under, packages/apps/LegacyCamera)
+include $(call all-makefiles-under, ../LegacyCamera)
 else
-include $(call all-makefiles-under, packages/apps/Camera)
+include $(call all-makefiles-under, ../Camera)
 endif
 
 endif
diff --git a/CleanSpec.mk b/CleanSpec.mk
index cc930a1..e8125a9 100644
--- a/CleanSpec.mk
+++ b/CleanSpec.mk
@@ -45,6 +45,8 @@
 #$(call add-clean-step, rm -rf $(PRODUCT_OUT)/data/*)
 $(call add-clean-step, rm -rf $(PRODUCT_OUT)/obj/APPS/Camera*)
 $(call add-clean-step, rm -rf $(OUT_DIR)/target/common/obj/APPS/Camera*)
+$(call add-clean-step, rm -rf $(PRODUCT_OUT)/obj/APPS/LegacyCamera*)
+$(call add-clean-step, rm -rf $(OUT_DIR)/target/common/obj/APPS/LegacyCamera*)
 $(call add-clean-step, rm -rf $(PRODUCT_OUT)/obj/APPS/Gallery*)
 $(call add-clean-step, rm -rf $(OUT_DIR)/target/common/obj/APPS/Gallery*)
 
-- 
1.7.9.5

